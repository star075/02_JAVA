package basic.ch17.sec01;

import java.util.Comparator;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Set;
import java.util.stream.Stream;
public class StreamExample {

    /*
     * ìŠ¤íŠ¸ë¦¼ ê°œë…
     * - ì»¬ë ‰ì…˜(set, list), ë°°ì—´ ë“±ì˜ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ìë°”ì—ì„œ ë°˜ë³µë¬¸ ì—†ì´ í¸í•˜ê²Œ ë‹¤ë£¨ê¸° ìœ„í•œ ë¬¸ë²•
     * - ìŠ¤íŠ¸ë¦¼ êµ¬ì¡°: "ìŠ¤íŠ¸ë¦¼ ìƒì„± â†’ ì¤‘ê°„ ì—°ì‚° â†’ ìµœì¢… ì—°ì‚°"
     *
     * ìŠ¤íŠ¸ë¦¼ íŠ¹ì§•
     * 1. ì›ë³¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ (ë¹„íŒŒê´´ì )
     * 2. ì¼íšŒìš© â†’ í•œ ë²ˆ ì‚¬ìš© í›„ ë‹¤ì‹œ ìƒì„± í•„ìš” (ìµœì¢…ì—°ì‚° ì´í›„ì—ëŠ” ë‹¤ì‹œ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•´ì•¼ í•¨)
     * 3. ë°˜ë³µ ì²˜ë¦¬ë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ìˆ˜í–‰ (ë°˜ë³µë¬¸ ì§ì ‘ ì‘ì„± ì•ˆ í•¨)
     * 4. ë³‘ë ¬ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤. (parallelStream)
     * */
    public static void main(String[] args) {
        // HashSet ìƒì„± (ìˆœì„œ ì—†ê³ , ì¤‘ë³µ ë¶ˆê°€ëŠ¥í•œ ì§‘í•©)
        Set<String> set = new HashSet< >();
        set.add("í™ê¸¸ë™");
        set.add("ì‹ ìš©ê¶Œ");
        set.add("ê°ìë°”");

        System.out.println("----------í–¥ìƒëœ forë¬¸ ì‚¬ìš© -----------");
        for(String str : set) {
            System.out.println(str);
        }

        System.out.println("----------Stream ì‚¬ìš© -----------");
        // ìŠ¤íŠ¸ë¦¼ ìƒì„±
        Stream<String> stream = set.stream();
        stream.forEach(name -> System.out.println(name)); // ìŠ¤íŠ¸ë¦¼ ì†Œë¹„(ì¶œë ¥)

        // ë˜ëŠ” ë°”ë¡œ forEach ì‚¬ìš© (ìœ„ì™€ ë™ì¼í•œ ê²°ê³¼)
        set.forEach(name -> System.out.println(name));


        System.out.println("----------Stream ì‚¬ìš©2 -----------");
        // ìŠ¤íŠ¸ë¦¼ ë©”ì„œë“œ ì²´ì´ë‹ ì˜ˆì‹œ
        set.stream()
                .sorted(Comparator.reverseOrder()) // ë¬¸ìì—´ ì—­ìˆœ(ë‚´ë¦¼ì°¨ìˆœ) ì •ë ¬ // 1ë‹¨ê³„: ì—­ìˆœ ì •ë ¬
                .sorted() // ì‚¬ì „ìˆœ, ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ (ê¸°ë³¸ê°’) // 2ë‹¨ê³„: ë‹¤ì‹œ ê¸°ë³¸ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
                // ì•ì—ì„œë¶€í„° í¬ê¸°ë§Œí¼ ìë¥´ê¸°
                .limit(2) // ì•ì—ì„œ 2ê°œë§Œ ì¶œë ¥
                .forEach(name -> System.out.println(name));
    }
}

/*
* ## âœ… ê°œë… ìš”ì•½

### ğŸ”¹ ìŠ¤íŠ¸ë¦¼ êµ¬ì¡°

| ë‹¨ê³„        | ì„¤ëª…                           |
|-------------|--------------------------------|
| ìŠ¤íŠ¸ë¦¼ ìƒì„± | `.stream()`                    |
| ì¤‘ê°„ ì—°ì‚°   | `.filter()`, `.map()`, `.sorted()` ë“± |
| ìµœì¢… ì—°ì‚°   | `.forEach()`, `.collect()`, `.count()` ë“± |

---

### ğŸ”¹ ì£¼ìš” ë©”ì„œë“œ

| ë©”ì„œë“œ           | ì„¤ëª…                                         |
|------------------|----------------------------------------------|
| `.stream()`       | ì»¬ë ‰ì…˜ â†’ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜                    |
| `.forEach()`      | ìš”ì†Œ í•˜ë‚˜ì”© êº¼ë‚´ì„œ ì‘ì—… ìˆ˜í–‰ (ì˜ˆ: ì¶œë ¥)     |
| `.sorted()`       | ê¸°ë³¸ ì •ë ¬ (ì‚¬ì „ìˆœ ì˜¤ë¦„ì°¨ìˆœ)                  |
| `.sorted(Comparator.reverseOrder())` | ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬            |
| `.limit(n)`       | ì•ì—ì„œë¶€í„° nê°œë§Œ ì„ íƒ                        |

---

### ğŸ”¹ ê²°ê³¼ ì˜ˆì‹œ

> ê²°ê³¼ëŠ” `HashSet`ì´ê¸° ë•Œë¬¸ì— ìˆœì„œëŠ” ë§¤ë²ˆ ë°”ë€” ìˆ˜ ìˆìŒ!

```
----------í–¥ìƒëœ forë¬¸ ì‚¬ìš© -----------
í™ê¸¸ë™
ê°ìë°”
ì‹ ìš©ê¶Œ

----------Stream ì‚¬ìš© -----------
í™ê¸¸ë™
ê°ìë°”
ì‹ ìš©ê¶Œ
í™ê¸¸ë™
ê°ìë°”
ì‹ ìš©ê¶Œ

----------Stream ì‚¬ìš©2 -----------
ì‹ ìš©ê¶Œ
í™ê¸¸ë™
```

â€» `"Stream ì‚¬ìš©2"`ì—ì„œëŠ” ì‚¬ì „ ì—­ìˆœ ì •ë ¬ í›„ 2ê°œë§Œ ì¶œë ¥ë¨
* */